function CreateImagePath(a){console.log("CreateImagePath");var b="/static/image/",c=".png",d=["google","microsoft","ut"];for(var e in d)if(a===d[e])return b+a+c;return b+"question_mark"+c}function CleanTranslationTitle(){console.log("CleanTranslationTitle"),$("#translation-title").addClass("invisible")}function CleanTranslationDivs(){console.log("CleanTranslationDivs"),$("#translation-choice").empty(),$("#translation-choice").remove(".space1percent")}function CleanTranslationAll(){console.log("CleanTranslationAll"),CleanTranslationTitle(),CleanTranslationDivs()}function CreateTranslationRow(a,b){console.log("CreateTranslationRow");var c=document.createElement("div"),d=$(document.createElement("div")).addClass("col-lg-1 col-md-1 col-sm-1 col-xs-1 container-img pointer"),e=$(document.createElement("div")).addClass("col-lg-offset-1 col-lg-11 col-md-offset-1 col-md-11 col-sm-offset-1 col-sm-11 col-xs-offset-1 col-xs-11 translation-text pointer container-text"),f=$(document.createElement("img")).addClass("img-responsive");a.includes("microsoft")&&f.addClass("microsoft-size"),a.includes("google")&&f.addClass("google-size"),$(c).addClass("row"),$(f).attr("src",a),$(e).text(b),$(f).appendTo(d),$(c).append(d),$(c).append(e),$("#translation-choice").append(c);var g=document.createElement("div");return $(g).addClass("space7percent"),$("#translation-choice").append(g),null}function Swap(a,b,c){console.log("Swap");var d=a[b];a[b]=a[c],a[c]=d}function RandomShuffle(a,b){console.log("RandomShuffle");for(var c=0;c<b;++c){var d=Math.floor(Math.random()*a.length),e=Math.floor(Math.random()*a.length);Swap(a,d,e)}return a}function CreateTranslationTitle(a){console.log("CreateTranslationTitle"),$("#translation-title").removeClass("invisible")}function FilterEmptyTranslations(a){console.log("FilterEmptyTranslations");var b=[];for(var c in a)""!=a[c].translation&&b.push(a[c]),console.log("i",c);return b}function ShowTranslation(a,b){console.log("ShowTranslation"),CleanTranslationAll(),CleanFooter(),CreateTranslationTitle(b);var c=0;for(var d in a)a[d].translation&&c++;console.error("Number translations",c),c<1&&(b="",$("#translation-title").clear()),a=FilterEmptyTranslations(RandomShuffle(a,10));for(var d in a){var e=CreateImagePath("");CreateTranslationRow(e,a[d].translation)}return CreateFooter(),console.log("ShowTranslation"),a}function ShowTranslatorsBasedOnTranslation(a){console.log("ShowTranslatorsBasedOnTranslation"),CleanTranslationAll(),CleanFooter();for(var b in a){var c=CreateImagePath(a[b].translator);CreateTranslationRow(c,a[b].translation)}CreateFooter(),console.log("ShowTranslatorsBasedOnTranslation")}function RemoveListeners(){console.log("RemoveListeners");for(var a=document.getElementsByClassName("pointer"),b=0;b<a.length;b++)a[b].removeEventListener("click",function(){console.log("Inside event listener",content),ShowTranslatorsBasedOnTranslation(content)},!1);console.log("Listeners removed")}function AddListeners(){console.log("AddListeners");for(var a=document.getElementsByClassName("pointer"),b=0;b<a.length;b++)a[b].addEventListener("click",function(){console.log("Inside event listener",content);var a=FindChosenTranslatorPosition(this);console.log("position",a),console.log("corresponding content",content[a].translator),ShowTranslatorsBasedOnTranslation(content),SaveBestTranslator(content,a)},!1);console.log("Listeners removed")}function FindChosenTranslatorPosition(a){console.log("FindChosenTranslatorsPosition");var b=$(a).parent(),c=$("#translation-choice div.row"),d=-1;return $.each(c,function(a,c){b.is(c)&&(d=a)}),d}function SaveBestTranslator(a,b){console.log("SaveBestTranslator");var c={};for(var d in a)c[a[d].translator]=a[d].translation;var e=a[b].translator;c.best_translator=e,console.log("param",c),$.ajax({url:"/",data:JSON.stringify(c,null,"\t"),type:"POST",contentType:"application/json;charset=UTF-8",success:function(a){console.log("response",a)},error:function(a){console.log("error",a)}})}function CreateFooter(a,b,c,d){console.log("CreateFooter");var e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("a"),h=document.createElement("a");$(g).attr("href",a),$(g).text(c),$(e).append(g),$(e).addClass("hidden-xs col-sm-6 col-md-6 col-lg-6 text-right"),$(h).attr("href",b),$(h).text(d),$(f).append(h),$(f).addClass("hidden-xs col-sm-6 col-md-6 col-lg-6 text-left"),$(".footer").append(e),$(".footer").append(f)}function CleanFooter(){console.log("CleanFooter"),$(".footer").empty()}function ShowMenu(){console.log("ShowMenu"),$(".main-block").hasClass("hidden-xs")?($(".main-block").removeClass("hidden-xs"),$(".menu-block").addClass("hidden-xs")):($(".main-block").addClass("hidden-xs"),$(".menu-block").removeClass("hidden-xs"))}$(function(){$(".translate-btn").click(function(){console.log("Click translate button"),$(".translation-loader").removeClass("hidden");var a=$(".translate-from").attr("name"),b=$(".translate-to").attr("name"),c=$("textarea").val(),d={};d.source_text=c,d.translate_from=a,d.translate_to=b,console.log("data",JSON.stringify(d,null,"\t")),$.ajax({url:"/",data:JSON.stringify(d,null,"\t"),type:"POST",contentType:"application/json;charset=UTF-8",success:function(a){translations=JSON.parse(a).translations,console.log("response",a),content=ShowTranslation(content=translations),$(".translation-loader").addClass("hidden"),AddListeners.call(this)},error:function(a){console.log("error",a)}})})});